<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Kelsey Florek">

    <script src=/resources/google_analytics.js></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>KFlorek - Workflows</title>

    <link rel="stylesheet" href="/resources/revealjs/dist/reset.css">
    <link rel="stylesheet" href="/resources/revealjs/dist/reveal.css">
    <link rel="stylesheet" href="/resources/revealjs/dist/theme/f_theme.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400|Noto:400,400i,600" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    <script src="/resources/restalks/qrcode/qrcode.js"></script>

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="/resources/revealjs/plugin/highlight/monokai.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h2>Workflow Management Languages -<br>Practical Application</h2>
          <br>
          <p>
            Kelsey Florek, PhD, MPH<br>
            Senior Genomics and Data Scientist<br>
            Wisconsin State Laboratory of Hygiene<br>
            September 24, 2024<br>
          </p>

          <div style="position:absolute;width: 100%;text-align:center;">
            Slides live at:<br> <a href="https://www.k-florek.net/talks">www.k-florek.net/talks</a>
          
          </div>
          </br>

          <div style="float:left;width:50%">
            <img style="width: 40%;display:block;float:left;margin-top:20px" src="/resources/restalks/images/wslh_logo_white.png">
          </div>
          <div style="float:right;width:50%">
            <div id="qrcode"></div>
            <script type="text/javascript">
              var urlString = window.location.href;
              urlString = urlString.substring(0, urlString.lastIndexOf("/"));
              var qrcode = new QRCode(document.getElementById("qrcode"), {
                text: urlString,
                width: 128,
                height: 128,
                colorDark : "#2a76dd",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.Q,
                imgCSSStyle : "float:right; padding-top:20px;"
              });
            </script>
          </div>
        </section>

        <section style="color: white" data-background-iframe="/resources/restalks/gradient_limit_magenta.html" data-background="#0969da">
          <h2>Scientific data workloads in a regulated environment</h2>
          <h3 class="fragment">research software â†’ testing laboratory (production)</h3>
        </section>

        <section>
          <div class="r-stack">
            <div class="columncontainer">
              <div>
                <h3>Bioinformatics Software/Workflows</h3>
                <ul>
                  <li>Developed by a researcher or student</li>
                  <li>Software updates slow or non-existent</li>
                  <li>Limited documentation</li>
                  <li>Limited scope or applicability</li>
                  <li>Suboptimal resource usage</li>
                </ul>
              </div>

              <div class="fragment">
                <h3>Testing Laboratory Requirements</h3>
                <ul>
                  <li>Validation/Verification</li>
                  <li>Consistency: algorithms and databases</li>
                  <li>Audit trails: data & system</li>
                  <li>Integration with LIS</li>
                  <li>QA/QC/QI</li>
                  <li>Data security</li>
                </ul>
              </div>
            </div>

            <div class="fragment">
              <img src="images/dependency.png">
              <div class="citation"><a href="https://m.xkcd.com/2347/">xkcd: Dependency</a></div>
            </div>

            <div style="width:35%" class="fragment">
              <img src="images/jenga.jpg">
            </div>

          </div>
        </section>

        <section data-auto-animate>
          <h3>Advantages of Workflow Management Languages</h3>
          <p>Unifying toward a set of common approaches</p>
          <div class="columncontainer">
            <div>
              <h4>Nextflow</h4>
              <ul>
                <li class="fragment" data-fragment-index="1">Channels/Processes</li>
                <li class="fragment" data-fragment-index="2">Workflow Logs/Process Logs/Trace File/Execution Report</li>
                <li class="fragment" data-fragment-index="3">Task Caching</li>
                <li class="fragment" data-fragment-index="4">Job isolation with Containers</li>
                <li class="fragment" data-fragment-index="5">Compatibility with range of HPC and Cloud platforms</li>
              </ul>
            </div>
            <div>
              <h4>WDL (Cromwell)</h4>
              <ul>
                <li class="fragment" data-fragment-index="1">Task</li>
                <li class="fragment" data-fragment-index="2">Workflow Logs/Call Logs</li>
                <li class="fragment" data-fragment-index="3">Call Caching/Checkpoint Files</li>
                <li class="fragment" data-fragment-index="4">Job isolation with Containers</li>
                <li class="fragment" data-fragment-index="5">Compatibility with range of HPC and Cloud platforms</li>
              </ul>
            </div>
            <div>
              <h4>SnakeMake</h4>
              <ul>
                <li class="fragment" data-fragment-index="1">Rule</li>
                <li class="fragment" data-fragment-index="2">Rule Logs/Reports</li>
                <li class="fragment" data-fragment-index="3">Between Workflow Caching</li>
                <li class="fragment" data-fragment-index="4">Job isolation with Containers</li>
                <li class="fragment" data-fragment-index="5">Limited compatibility with Cloud platforms</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Transform into Table -->
        <section data-auto-animate>
          <h3>Advantages of Workflow Management Languages</h3>
          <p>Unifying toward a set of common approaches</p>
          <div class="columncontainer">
            <div>
              <h4>Nextflow</h4>
              <ul>
                <li style="color:white">Channels/Processes</li>
                <li style="color:blueviolet">Workflow Logs/Process Logs/Trace File/Execution Report</li>
                <li style="color:blueviolet">Task Caching</li>
                <li style="color:blueviolet">Job isolation with Containers</li>
                <li style="color:white">Compatibility with range of HPC and Cloud platforms</li>
              </ul>
            </div>
            <div>
              <h4>WDL (Cromwell)</h4>
              <ul>
                <li style="color:white">Task</li>
                <li style="color:blueviolet">Workflow Logs/Call Logs</li>
                <li style="color:blueviolet">Call Caching/Checkpoint Files</li>
                <li style="color:blueviolet">Job isolation with Containers</li>
                <li style="color:white">Compatibility with range of HPC and Cloud platforms</li>
              </ul>
            </div>
            <div>
              <h4>SnakeMake</h4>
              <ul>
                <li style="color:white">Rule</li>
                <li style="color:blueviolet">Rule Logs/Reports</li>
                <li style="color:blueviolet">Between Workflow Caching</li>
                <li style="color:blueviolet">Job isolation with Containers</li>
                <li style="color:white">Limited compatibility with Cloud platforms</li>
              </ul>
            </div>
          </div>
        </section>

        <section  data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <img style="width:40%" src="images/software.png">
        </section>

        <section data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Infrastructure</h4>
          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/circuit.jpg">
            </div>
            <div class="fragment">
              <ul>
                <li>Encrypted Electronic Data Transfer</li>
                <li>Data Transfer Integrity Check</li>
                <li>Data Backups</li>
                <li>Storage practices and retention times</li>            
              </ul>
            </div>
            <div class="fragment">
              <ul>
                <li>System Authentication/Activity Logs</li>
                <li>Change Management Process (users or infrastructure)</li>
                <li>Continuity of Operations Plan</li>
                <li>Disaster Recovery Testing Records</li>
              </ul>
            </div>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Infrastructure</h4>

          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/circuit.jpg">
            </div>
            <div>
              <ul>
                <li style="color:blueviolet">Encrypted Electronic Data Transfer</li>
                <li style="color:blueviolet">Data Transfer Integrity Check</li>
                <li>Data Backups</li>
                <li>Storage practices and retention times</li>            
              </ul>
            </div>
            <div>
              <ul>
                <li>System Authentication/Activity Logs</li>
                <li>Change Management Process (users or infrastructure)</li>
                <li>Continuity of Operations Plan</li>
                <li>Disaster Recovery Testing Records</li>
              </ul>
            </div>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Workflows/Software</h4>

          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/coding.jpg">
            </div>
            <div class="fragment">
              <ul>
                <li>Software/Workflow Version</li>
                <li>Source code versioning system</li>
                <li>Unit Tests, Pos/Neg Tests, Integration Tests</li>
                <li>Records of monitoring software updates</li>
              </ul>
            </div>

            <div class="fragment">
              <ul>
                <li>Data Provenance tracking through the procedure</li>
                <li>Controls, Metrics, QC</li>
                <li>Input Files/Output Files/Databases</li>
              </ul>
            </div>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Workflows/Software</h4>

          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/coding.jpg">
            </div>
            <div>
              <ul>
                <li style="color:blueviolet">Software/Workflow Version</li>
                <li style="color:blueviolet">Source code versioning system</li>
                <li style="color:blueviolet">Unit Tests, Pos/Neg Tests, Integration Tests</li>
                <li>Records of monitoring software updates</li>
              </ul>
            </div>

            <div>
              <ul>
                <li style="color:blueviolet">Data Provenance tracking through the procedure</li>
                <li>Controls, Metrics, QC</li>
                <li style="color:blueviolet">Input Files/Output Files/Databases</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h3>What is the role of a bioinformatician?</h3>
          <div class="columncontainer">
            <div>
              <img src="images/bioinfomatics.png">
            </div>
            <div>
              <p><b>Testing Personnel</b> - Individuals responsible for performing laboratory assays and reporting laboratory results</p>
              <p><b>Test System</b> - The process that includes pre-analytic, analytic, and post-analytic steps used to produce a
                test result or set of results. A test system may be manual, automated, multi-channel or single-use and can
                include reagents, components, equipment and/or instruments required to produce results. A test system may
                encompass multiple identical analyzers or devices. Different test systems may be used for the same analyte.</p>
            </div>
          </div>
        </section>

        <section>
          <h3>What is the role of a bioinformatician?</h3>
          <div class="fragment">
            <h4>Support Staff / Scientist / Engineer</h4>

            <div class="columncontainer">
              <div>
                <ul>
                  <li>Script/Software Development</li>
                  <li>Workflow Development</li>
                  <li>Database Management</li>
                  <li>Infrastructure Management</li>
                  <li>System Support Contact</li>
                </ul>
              </div>
  
              <div>
                <ul>
                  <li>Data Trend Analysis</li>
                  <li>Dashboard Development</li>
                  <li>Pathogen Subject Matter Expert</li>
                  <li>Genomics Subject Matter Expert</li>
                  <li>Research Collaborations / Publications</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section>
          <h3>Automation at WSLH</h3>
          <div class="r-stack">
            <div style="width:60%">
              <img src="images/aws-infra-workflow-automation.png">
            </div>
            <div style="width:50%" class="fragment">
              <img style="box-shadow:2px 2px 5px black"src="images/spn_run.png">
            </div>
          </div>
        </section>

        <section>
          <h3>Acknowledgments</h3>
          <div style="width:50%;float:left;">
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/images/site/as_photo.jpg">
              <span style="margin-left:30px;text-align:left">Abigail Shockey, PhD</br></span>
            </div>
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/images/site/cj_photo.jpg">
              <span style="margin-left:30px;text-align:left">Christopher Jossart, MPH</br></span>
            </div>
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/images/site/dl_photo.jpg">
              <span style="margin-left:30px;text-align:left">Dustin Lyfoung, MS</br></span>
            </div>
          </div>
          <div style="width:50%;float:right;">
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/images/site/tb_photo.png">
              <span style="margin-left:30px;text-align:left">Thomas Blader</br></span>
            </div>
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/images/site/eg_photo.png">
              <span style="margin-left:30px;text-align:left">Eva Gunawan, MS</br></span>
            </div>
            <h4>Special Thanks</h4>
            <ul>
              <li><a href="https://kb.wisc.edu/page.php?id=109785">UW-Madison Public Cloud Team</a></li>
              <li><a href="https://it.wisc.edu/about/division-of-information-technology/enterprise-information-security-services/office-of-cybersecurity/">UW-Madison Office of Cybersecurity</a></li>
            </ul>
          </div>

          <div class="citation">
            <a href="https://revealjs.com/">Reveal.JS</a>
          </div>
        </section>

      </div>
    </div>

    <script src="/resources/revealjs/dist/reveal.js"></script>
    <script src="/resources/revealjs/plugin/notes/notes.js"></script>
    <script src="/resources/revealjs/plugin/markdown/markdown.js"></script>
    <script src="/resources/revealjs/plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        history: false,
        controls: true,
        center: true,
        progress: true,
        slideNumber: true,
        touch: true,
        viewDistance: 6,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.05,

        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.1,
        maxScale: 5,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
