<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Kelsey Florek">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>KFlorek - Building Resilient Public Health Genomic Systems with Data Lakes and Automation</title>

    <!-- Icons -->
    <script defer src="https://use.fontawesome.com/releases/v6.7.2/js/solid.js" integrity="sha384-Jx4lvM3f1foL3gcKtEZPpp/IOxYaIOJ+KQRq3vP7Towpgy4bjb6wo5QK5VRtnpLh" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v6.7.2/js/brands.js" integrity="sha384-wRU6vtIpkIdXnWzp+Hq7CNH527PHkmlZz1n7ITVY0YhEPUcSlz2voGAQfVb3d9xe" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v6.7.2/js/fontawesome.js" integrity="sha384-dCcP+1ToHaZKWNvVqy4+4ekZYXP73UfD3KsBQ0xg54c0+R0I6zsewwjQiM3JUwg+" crossorigin="anonymous"></script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/vendor/reveal/reset.css">
    <link rel="stylesheet" href="/vendor/reveal/reveal.css">
    <link rel="stylesheet" href="/resources/css/reveal_theme.css">
    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="/vendor/reveal-plugins/highlight/monokai.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400|Noto:400,400i,600" rel="stylesheet">

    <!-- Custom QR Code Generator -->
    <script src="/resources/js/qrcode.js"></script>

  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h2>Building Resilient Public Health Genomic Systems with Data Lakes and Automation</h2>
          <br>
          <p>
            Kelsey Florek, PhD, MPH<br>
            Senior Genomics and Data Scientist<br>
            Wisconsin State Laboratory of Hygiene<br>
            February 27, 2025<br>
          </p>

          <div style="position:absolute;width: 100%;text-align:center;">
            Slides live at:<br> <a href="https://www.k-florek.net/talks">www.k-florek.net/talks</a>
          
          </div>
          </br>

          <div style="float:left;width:50%">
            <img style="width: 40%;display:block;float:left;margin-top:20px" src="/resources/images/logos/wslh_logo_white.png">
          </div>
          <div style="float:right;width:50%">
            <div id="qrcode"></div>
            <script type="text/javascript">
              var urlString = window.location.href;
              urlString = urlString.substring(0, urlString.lastIndexOf("/"));
              var qrcode = new QRCode(document.getElementById("qrcode"), {
                text: urlString,
                width: 128,
                height: 128,
                colorDark : "#2a76dd",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.Q,
                imgCSSStyle : "float:right; padding-top:20px;"
              });
            </script>
          </div>
        </section>

        <section style="color: white" data-background-iframe="/resources/gradient_limit_magenta.html" data-background="#0969da">
          <h2>How do you shift bioinformatics research software into a reliable public health product?</h2>
        </section>

        <section>
          <div style="float: left;width: 50%">
            <img style="width: 100%;margin: 0px;" src="/resources/images/logos/wslh_logo_white.png">
            <h3>Communicable Disease Division</h3>
          </div>
          <div style="float: right;width: 50%; padding-top: 10%;">
            <ul>
              <li>Infectious disease surveillance and diagnostic testing</li>
              <li>Serve the state of Wisconsin and perform activities as a regional center for HAI/AR, Influenza, and Bioinformatics</li>
              <li>Over 60 laboratory staff including a 6 member multidisciplinary bioinformatics team</li>
            </ul>
          </div>
        </section>

        <section style="color: white" data-background-iframe="/resources/gradient_limit_magenta.html" data-background="#0969da">
          <h2>Gathering Requirements for a Bioinformatics System</h2>
          <p>a combination of functional and regulatory requirements</p>
        </section>

        <section>
          <div class="r-stack">
            <div class="columncontainer">
              <div>
                <h3>Bioinformatics Software/Workflows</h3>
                <ul>
                  <li>Developed by a researcher or student</li>
                  <li>Software updates slow or non-existent</li>
                  <li>Limited documentation</li>
                  <li>Limited scope or applicability</li>
                  <li>Suboptimal resource usage</li>
                </ul>
              </div>

              <div class="fragment">
                <h3>Testing Laboratory Requirements</h3>
                <ul>
                  <li>Validation/Verification</li>
                  <li>Consistency: algorithms and databases</li>
                  <li>Audit trails: data & system</li>
                  <li>Integration with LIS</li>
                  <li>QA/QC/QI</li>
                  <li>Data security</li>
                </ul>
              </div>
            </div>

            <div class="fragment">
              <img src="images/dependency.png">
              <div class="citation"><a href="https://m.xkcd.com/2347/">xkcd: Dependency</a></div>
            </div>

          </div>
        </section>

        <section>
          <h3>Establishing a system for a changing landscape</h3>
 
          <div class="timeline">
            <div class="entries">
              <div class="entry">
                <div class="title">2017 - 2019<br>Pre-COVID-19</div>
                <div class="content">
                  <ul class="no-padding">
                    <li>cost effective workflow runs</li>
                    <li>short workflow runtimes</li>
                    <li>dynamic workflow scaling</li>
                  </ul>
                </div>
              </div>
              <div class="entry fragment">
                <div class="title">2019 - 2022<br>COVID-19</div>
                <div class="content">
                  <ul class="no-padding">
                    <li>database capacity
                      <ul>
                        <li>dashboards</li>
                        <li>data queries</li>
                      </ul>
                    </li>
                    <li>multiple user framework</li>
                    <li>accessibility for external partners</li>
                  </ul>
                </div>
              </div>
            <div class="entry fragment">
              <div class="title big">2022 - Today<br>Post-COVID-19</div>
              <div class="content">
                <ul class="no-padding">
                  <li>regulatory compliance for diagnostic testing</li>
                  <li>automation</li>
                  <li>integrations and analytics</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <section>
          <h3>Establishing a system for a changing landscape</h3>
 
          <div class="timeline">
            <div class="entries">
              <div class="entry">
                <div class="title">Workflow Design</div>
                <div class="content"><br><br><br><br></div>
              </div>
              <div class="entry">
                <div class="title">Infrastructure Design<br>(Data Lake)</div>
                <div class="content"><br><br><br><br></div>
              </div>
              <div class="entry">
                <div class="title big">Automation and Access</div>
                <div class="content"><br><br><br><br></div>
              </div>
            </div>  
          </div>
        </section>

        <section style="color: white" data-background-iframe="/resources/gradient_limit_magenta.html" data-background="#0969da">
          <h2>Workflow Design</h2>
          <p>migrating from massive python scripts to a Workflow Management Language</p>
        </section>

        <section>
          <h3>Workflow Management Languages</h3>
          <div class="columncontainer">
            <div>
              <h4>Nextflow</h4>
              <ul>
                <li class="fragment" data-fragment-index="1">Channels/Processes</li>
                <li class="fragment" data-fragment-index="2">Workflow Logs/Process Logs/Trace File/Execution Report</li>
                <li class="fragment" data-fragment-index="3">Task Caching</li>
                <li class="fragment" data-fragment-index="4">Job isolation with Containers</li>
                <li class="fragment" data-fragment-index="5">Compatibility with range of HPC and Cloud platforms</li>
              </ul>
            </div>
            <div>
              <h4>WDL (Cromwell)</h4>
              <ul>
                <li class="fragment" data-fragment-index="1">Task</li>
                <li class="fragment" data-fragment-index="2">Workflow Logs/Call Logs</li>
                <li class="fragment" data-fragment-index="3">Call Caching/Checkpoint Files</li>
                <li class="fragment" data-fragment-index="4">Job isolation with Containers</li>
                <li class="fragment" data-fragment-index="5">Compatibility with range of HPC and Cloud platforms</li>
              </ul>
            </div>
            <div>
              <h4>SnakeMake</h4>
              <ul>
                <li class="fragment" data-fragment-index="1">Rule</li>
                <li class="fragment" data-fragment-index="2">Rule Logs/Reports</li>
                <li class="fragment" data-fragment-index="3">Between Workflow Caching</li>
                <li class="fragment" data-fragment-index="4">Job isolation with Containers</li>
                <li class="fragment" data-fragment-index="5">Limited compatibility with Cloud platforms</li>
              </ul>
            </div>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Workflows/Software -> Workflow Management Language</h4>

          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/coding.jpg">
            </div>
            <div class="fragment">
              <ul>
                <li>Software/Workflow Version</li>
                <li>Source code versioning system</li>
                <li>Unit Tests, Pos/Neg Tests, Integration Tests</li>
                <li>Records of monitoring software updates</li>
              </ul>
            </div>

            <div class="fragment">
              <ul>
                <li>Data Provenance tracking through the procedure</li>
                <li>Controls, Metrics, QC</li>
                <li>Input Files/Output Files/Databases</li>
              </ul>
            </div>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Workflows/Software -> Workflow Management Language</h4>

          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/coding.jpg">
            </div>
            <div>
              <ul>
                <li style="color:blueviolet">Software/Workflow Version</li>
                <li style="color:blueviolet">Source code versioning system</li>
                <li style="color:blueviolet">Unit Tests, Pos/Neg Tests, Integration Tests</li>
                <li>Records of monitoring software updates</li>
              </ul>
            </div>

            <div>
              <ul>
                <li style="color:blueviolet">Data Provenance tracking through the procedure</li>
                <li>Controls, Metrics, QC</li>
                <li style="color:blueviolet">Input Files/Output Files/Databases</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h3>Establishing a system for a changing landscape</h3>
 
          <div class="timeline">
            <div class="entries">
              <div class="entry">
                <div class="title"><s>Workflow Design</s></div>
                <div class="content"><br><br><br><br></div>
              </div>
              <div class="entry">
                <div class="title">Infrastructure Design<br>(Data Lake)</div>
                <div class="content"><br><br><br><br></div>
              </div>
              <div class="entry">
                <div class="title big">Automation and Access</div>
                <div class="content"><br><br><br><br></div>
              </div>
            </div>  
          </div>
        </section>

        <section style="color: white" data-background-iframe="/resources/gradient_limit_magenta.html" data-background="#0969da">
          <h2>Infrastructure Design (Data Lake)</h2>
          <p>cost-effective and scalable capacity</p>
        </section>

        <section>
          <h3>AWS Genomics Workflow Infrastructure</h3>

          <img style="width: 55%;"src="images/aws-infra-nextflow.png">
          <div class="citation"><a href="https://github.com/wslh-bio/aws-infra-nextflow">github.com/wslh-bio/aws-infra-nextflow</a></div>
        </section>

        <section>
          <h3>Managing a growing data infrastructure</h3>
          <img style="width:75%" src="images/data_comparison.png">
        </section>

        <section>
          <h3>Managing a growing data infrastructure</h3>
          <img style="width:45%" src="images/Genomic_Data_Lake.png">
        </section>

        <section>
          <h3>Public Data Dashboard</h3>
          <img style="width: 60%;" src="images/aws-infra-public-data-portal.png">
        </section>

        <section>
          <h3>Query Data in the Data Lake</h3>
          <img style="width:75%" src="images/athena_query.png">
        </section>

        <section>
          <iframe height="625" width="800" frameborder="yes" scrolling="yes" src="https://dataportal.slh.wisc.edu/"><p>Your browser does not support iframes.</p></iframe>
          <div style="right:0px; bottom: -100px" class="citation">
            <a href="https://dataportal.slh.wisc.edu/"><div style="text-align: justify; width: 200px; margin:0px"><img style="margin-bottom:-15px;" src="images/qr-wslh-dataportal.svg">dataportal.slh.wisc.edu</div></a>
          </div>
        </section>

        <section>
          <h3>Addressing Regulatory Requirements (A CAP Perspective)</h3>
          <h4>Infrastructure</h4>
          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/circuit.jpg">
            </div>
            <div class="fragment">
              <ul>
                <li>Encrypted Electronic Data Transfer</li>
                <li>Data Transfer Integrity Check</li>
                <li>Data Backups</li>
                <li>Storage practices and retention times</li>            
              </ul>
            </div>
            <div class="fragment">
              <ul>
                <li>System Authentication/Activity Logs</li>
                <li>Change Management Process (users or infrastructure)</li>
                <li>Continuity of Operations Plan</li>
                <li>Disaster Recovery Testing Records</li>
              </ul>
            </div>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Establishing a system for a changing landscape</h3>
 
          <div class="timeline">
            <div class="entries">
              <div class="entry">
                <div class="title"><s>Workflow Design</s></div>
                <div class="content"><br><br><br><br></div>
              </div>
              <div class="entry">
                <div class="title"><s>Infrastructure Design<br>(Data Lake)</s></div>
                <div class="content"><br><br><br><br></div>
              </div>
              <div class="entry">
                <div class="title big">Automation and Access</div>
                <div class="content"><br><br><br><br></div>
              </div>
            </div>  
          </div>
        </section>

        <section style="color: white" data-background-iframe="/resources/gradient_limit_magenta.html" data-background="#0969da">
          <h2>Automation and Access</h2>
          <p>enhancing usability and supporting public health impact</p>
        </section>

        <section>
          <h3>What is the role of a bioinformatician?</h3>
          <h4>Support Staff / Scientist / Engineer</h4>
          <div class="columncontainer">
            <div style="width:50%">
              <img src="images/bioinfomatics.png">
            </div>
            
            <div class="fragment">
              <ul>
                <li>Script/Software Development</li>
                <li>Workflow Development</li>
                <li>Database Management</li>
                <li>Infrastructure Management</li>
                <li>System Support Contact</li>
              </ul>
            </div>

            <div class="fragment">
              <ul>
                <li>Data Trend Analysis</li>
                <li>Dashboard Development</li>
                <li>Pathogen Subject Matter Expert</li>
                <li>Genomics Subject Matter Expert</li>
                <li>Research Collaborations / Publications</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h3>Automation at WSLH</h3>
          <div class="r-stack">
            <div style="width:60%">
              <img src="images/aws-infra-workflow-automation.png">
            </div>
            <div style="width:50%" class="fragment">
              <img style="box-shadow:2px 2px 5px black"src="images/spn_run.png">
            </div>
          </div>
        </section>

        <section>
          <h3>COVID-19 Genomics UK (COG-UK) CLIMB-COVID</h3>
          <img style="width:60%;box-shadow:2px 2px 5px black;background-color:white" src="images/climb-covid.png">
          <div class="citation">
            <a href="https://genomebiology.biomedcentral.com/articles/10.1186/s13059-021-02395-y">Nicholls et al. 2021 <i>Genome Biology</i></a><br>
            <a href="https://www.youtube.com/watch?v=4WrjnCghMis">StaPH-B Monthly Webinar Oct 2021</a>
          </div>
        </section>

        <section>
          <h3>COVID-19 Genomics UK (COG-UK) CLIMB-COVID</h3>
          <img style="width:35%" src="images/climb-covid-diagram.png">
          <div class="citation">
            <a href=https://genomebiology.biomedcentral.com/articles/10.1186/s13059-021-02395-y">Nicholls et al. 2021 <i>Genome Biology</i></a><br>
            <a href="https://www.youtube.com/watch?v=4WrjnCghMis">StaPH-B Monthly Webinar Oct 2021</a>
          </div>
        </section>

        <section>
          <h3>Easy Genomics Partnership</h3>
          <img style="width:80%" src="images/eg_partnership.png">
        </section>

        <section>
          <h3>Easy Genomics - Minimal Viable Product</h3>
          <ul>
            <li>Simplify the process of launching and monitoring workflows</li>
            <li>Provide the ability for users to upload sequence data through the web browser</li>
            <li>Allow users to download analysis results through the web browser</li>
          </ul>
        </section>

        <section>
          <img style="width: 75%;" src="https://d2908q01vomqb2.cloudfront.net/c5b76da3e608d34edb07244cd9b875ee86906328/2022/10/04/Figure-1-%E2%80%93-High-Level-Architecture-of-the-Easy-Genomics-Solution.png">
          <div class="citation">
            <a href="https://easygenomics.org">easygenomics.org</a><br>
            <a href="https://aws.amazon.com/blogs/industries/easy-genomics-solution-for-public-health-labs/">AWS Blog: easy-genomics-solution-for-public-health-labs</a>
          </div>
        </section>

        <section data-background="#0969da" style="color:white">
          <h3 style="margin-bottom: 60px;">The Next Steps:<br>leveraging genomic laboratory capacity for public health impact</h3>
          <ul>
            <li class="fragment" style="margin-bottom:20px">Connecting Laboratory and Health Department Data for more near realtime detection of outbreaks.</li>
            <li class="fragment" style="margin-bottom:20px">Enhanced Detection System for Healthcare-Associated Transmission (EDS-HAT)
              <ul>
                <li>"Combines whole-genome sequencing (WGS) surveillance and machine learning (ML) of the electronic health record (EHR) to identify undetected outbreaks and the responsible transmission routes, respectively."</li>
                <li><a style="color: white; text-decoration: underline;" href="https://pmc.ncbi.nlm.nih.gov/articles/PMC9427134/">Sundermann et al. Clin Infect Dis. 2021</a></li>
              </ul></li>
          </ul>
        </section>

        <section data-background="#0969da" style="color:white">
          <h3 style="margin-bottom: 60px;">The Take Away</h3>
          <ul>
            <li class="fragment" style="margin-bottom:20px">Workflow Management Languages are key to high quality, auditable, and reproducible data workflows.</li>
            <li class="fragment" style="margin-bottom:20px">Cloud based approaches can support a cost-effective infrastructure capable of scaling to meet demand.</li>
            <li class="fragment" style="margin-bottom:20px">A cloud based infrastructure can simplify the process of adding complex capabilities.</li>
            <li class="fragment" style="margin-bottom:20px">A genomic data system requires a flexible agile-like approach, where features are routinely identified and continuously added.</li>
          </ul>
        </section>

        <section>
          <h3>Acknowledgments</h3>
          <div style="width:50%;float:left;">
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/resources/images/team/as_photo.jpg">
              <span style="margin-left:30px;text-align:left">Abigail Shockey, PhD</br></span>
            </div>
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/resources/images/team/cj_photo.jpg">
              <span style="margin-left:30px;text-align:left">Christopher Jossart, MPH</br></span>
            </div>
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/resources/images/team/dl_photo.jpg">
              <span style="margin-left:30px;text-align:left">Dustin Lyfoung, MS</br></span>
            </div>
          </div>
          <div style="width:50%;float:right;">
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/resources/images/team/tb_photo.png">
              <span style="margin-left:30px;text-align:left">Thomas Blader</br></span>
            </div>
            <div class="aligned" style="margin-left: 80px">
              <image style="width:70px;border-radius:50%;box-shadow:2px 2px 5px black" src="/resources/images/team/eg_photo.png">
              <span style="margin-left:30px;text-align:left">Eva Gunawan, MS</br></span>
            </div>
            <h4>Special Thanks to <img style="width: 15%;margin: 0px;" src="https://www.deptagency.com/wp-content/uploads/2024/09/dept-logo.svg"></h4>
            <div style="width:50%;float: left;">
              <ul>
                <li>Chie Nakagawa</li>
                <li>Chris De Vere</li>
                <li>Evan Davey</li>
                <li>Zig Tan</li>
              </ul>
            </div>
            <div style="width: 50%;float: right;">
              <ul>
                <li>Marvin Umali</li>
                <li>Simon Dib</li>
                <li>William Holt</li>
                <li>Andrew Purcell</li>
                <li>Nick Rivas</li>
              </ul>
            </div>
            
          </div>

          <div class="citation">
            <a href="https://revealjs.com/">Reveal.JS</a>
          </div>
        </section>

      </div>
    </div>

    <script src="/vendor/reveal/reveal.js"></script>
    <script src="/vendor/reveal-plugins/notes/notes.js"></script>
    <script src="/vendor/reveal-plugins/markdown/markdown.js"></script>
    <script src="/vendor/reveal-plugins/highlight/highlight.js"></script>

    <!-- Chalkboard & Custom Controls Plugin -->
    <script src="/vendor/reveal-plugins/customcontrols/plugin.js"></script>
    <link rel="stylesheet" href="/vendor/reveal-plugins/customcontrols/style.css">
    <script src="/vendor/reveal-plugins/chalkboard/plugin.js"></script>
    <link rel="stylesheet" href="/vendor/reveal-plugins/chalkboard/style.css">

    <script>
      const pen = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>';
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        history: false,
        controls: true,
        center: true,
        progress: true,
        slideNumber: true,
        touch: true,
        viewDistance: 6,
        preloadIframes: true,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.05,

        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.1,
        maxScale: 5,

        customcontrols: {
          controls: [
            //{ icon: '<i class="fa fa-pen-square"></i>',
            //  title: 'Toggle chalkboard (B)',
            //  action: 'RevealChalkboard.toggleChalkboard();'
            //},
            { icon: '<i class="fa fa-pen"></i>',
              title: 'Toggle notes canvas (C)',
              action: 'RevealChalkboard.toggleNotesCanvas();'
            }
          ]
        },
        chalkboard: {
          boardmarkers : [
                { color: 'rgba(100,100,100,1)', cursor: 'url(' + path + 'img/boardmarker-black.png), auto'},
                { color: 'rgba(30,144,255, 1)', cursor: 'url(' + path + 'img/boardmarker-blue.png), auto'},
                { color: 'rgba(220,20,60,1)', cursor: 'url(' + path + 'img/boardmarker-red.png), auto'},
                { color: 'rgba(150,0,20150,1)', cursor: 'url(' + path + 'img/boardmarker-purple.png), auto'}
          ],
        },

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealChalkboard, RevealCustomControls  ]
      });
    </script>
  </body>
</html>
